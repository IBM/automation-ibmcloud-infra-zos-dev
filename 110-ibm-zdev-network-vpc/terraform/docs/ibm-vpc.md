# IBM VPC module

Provisions the IBM Cloud VPC instance with network acls


## Software dependencies

The module depends on the following software components:

### Terraform version

- \>= v0.15

### Terraform providers


- ibm (ibm-cloud/ibm)

### Module dependencies


- resource_group - [github.com/terraform-ibm-modules/terraform-ibm-toolkit-resource-group](https://github.com/terraform-ibm-modules/terraform-ibm-toolkit-resource-group) (>= 2.1.0)

## Example usage

```hcl
module "ibm-vpc" {
  source = "cloud-native-toolkit/vpc/ibm"


  address_prefix_count = var.ibm-vpc_address_prefix_count
  address_prefixes = var.ibm-vpc_address_prefixes == null ? null : jsondecode(var.ibm-vpc_address_prefixes)
  base_security_group_name = var.ibm-vpc_base_security_group_name
  common_tags = var.common_tags == null ? null : jsondecode(var.common_tags)
  internal_cidr = var.ibm-vpc_internal_cidr
  name = var.ibm-vpc_name
  name_prefix = var.name_prefix
  provision = var.ibm-vpc_provision
  region = var.region
  resource_group_name = module.resource_group.name
  tags = var.ibm-vpc_tags == null ? null : jsondecode(var.ibm-vpc_tags)
}

```

## Module details

### Inputs

| Name | Description | Required | Default | Source |
|------|-------------|---------|----------|--------|
| resource_group_name | The name of the IBM Cloud resource group where the VPC instance will be created. | true |  | resource_group.name |
| region | The IBM Cloud region where the cluster will be/has been installed. | true |  |  |
| name | The name of the vpc instance | true |  |  |
| name_prefix | The name of the vpc resource | true |  |  |
| provision | Flag indicating that the instance should be provisioned. If false then an existing instance will be looked up | false | true |  |
| address_prefix_count | The number of ipv4_cidr_blocks | false | 0 |  |
| address_prefixes | List of ipv4 cidr blocks for the address prefixes (e.g. ['10.10.10.0/24']). If you are providing cidr blocks then a value must be provided for each of the subnets. If you don't provide cidr blocks for each of the subnets then values will be generated using the {ipv4_address_count} value. | false |  |  |
| base_security_group_name | The name of the base security group. If not provided the name will be based on the vpc name | true |  |  |
| internal_cidr | The cidr range of the internal network | false | 10.0.0.0/8 |  |
| tags | Tags that should be added to the instance | false |  |  |
| common_tags | Common tags that should be added to the instance | false |  |  |

### Outputs

| Name | Description |
|------|-------------|
| name | The name of the vpc instance |
| id | The id of the vpc instance |
| acl_id | The id of the network acl |
| crn | The CRN for the vpc instance |
| count | The number of VPCs created by this module. Always set to 1 |
| names | The name of the vpc instance |
| ids | The id of the vpc instance |
| base_security_group | The id of the base security group to be shared by other resources. The base group is different from the default security group. |
| addresses | The ip address ranges for the VPC |

## Resources

- [Documentation](https://operate.cloudnativetoolkit.dev)
- [Module catalog](https://modules.cloudnativetoolkit.dev)

> License: Apache License 2.0 | Generated by iascable (3.0.1)
