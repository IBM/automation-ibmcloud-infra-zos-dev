# VPC Flow Logs module

Module to create Flow Logs for a provided resource


## Software dependencies

The module depends on the following software components:

### Terraform version

- \>= v0.15

### Terraform providers


- ibm (ibm-cloud/ibm)

### Module dependencies


- resource_group - [github.com/cloud-native-toolkit/terraform-ibm-resource-group](https://github.com/cloud-native-toolkit/terraform-ibm-resource-group) (>= 2.1.0)
- cos_bucket - [github.com/cloud-native-toolkit/terraform-ibm-object-storage-bucket](https://github.com/cloud-native-toolkit/terraform-ibm-object-storage-bucket) (>= 0.0.1)
- target - interface github.com/cloud-native-toolkit/automation-modules#ibm-vpc-resource
- auth

## Example usage

```hcl
module "ibm-flow-logs" {
  source = "github.com/terraform-ibm-modules/terraform-ibm-toolkit-flow-log"

  auth_id = var.ibm-flow-logs_auth_id
  cos_bucket_name = module.flow_log_bucket.bucket_name
  provision = var.ibm-flow-logs_provision
  resource_group_id = module.resource_group.id
  target_count = module.ibm-vpc.count
  target_ids = module.ibm-vpc.ids
  target_names = module.ibm-vpc.names
}

```

## Module details

### Inputs

| Name | Description | Required | Default | Source |
|------|-------------|---------|----------|--------|
| resource_group_id | The id of the resource group where the flow logs will be provisioned | true |  | resource_group.id |
| cos_bucket_name | Cloud Object Storage bucket name for flow logs | true |  | cos_bucket.bucket_name |
| target_count | The number of resources for which flow logs will be created | false | 0 | target.count |
| target_ids | The ids of the target resources for the flow log | true |  | target.ids |
| target_names | The names of the target resources for the flow logs | true |  | target.names |
| auth_id | The id of the service authorization that allows the flow log to write to the cos bucket | true |  | auth.id |
| provision | Flag indicating that the subnet should be provisioned. If 'false' then the subnet will be looked up. | false | true |  |

### Outputs

| Name | Description |
|------|-------------|
| count | The number of flow logs created |
| ids | The ids of the generated flow logs |
| names | The names of the generated flow logs |

## Resources

- [Documentation](https://operate.cloudnativetoolkit.dev)
- [Module catalog](https://modules.cloudnativetoolkit.dev)

> License: Apache License 2.0 | Generated by iascable (3.2.0)
