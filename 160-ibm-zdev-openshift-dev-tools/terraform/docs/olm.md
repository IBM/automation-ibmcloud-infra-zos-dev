# Operator Lifecycle Manager module

Installs Operator Lifecycle Manager in the cluster
If the cluster is OpenShift 4.x and already has OLM installed then the module does not install anything. It can still 
be used to export the olm namespaces for use by downstream modules.


## Software dependencies

The module depends on the following software components:

### Terraform version

- \>= v0.15

### Terraform providers


- clis (cloud-native-toolkit/clis)

### Module dependencies


- cluster - interface github.com/cloud-native-toolkit/automation-modules#cluster

## Example usage

```hcl
module "olm" {
  source = "github.com/cloud-native-toolkit/terraform-k8s-olm"

  cluster_config_file = module.cluster.config_file_path
  cluster_type = module.cluster.platform.type_code
  cluster_version = module.cluster.platform.version
}

```

## Module details

### Inputs

| Name | Description | Required | Default | Source |
|------|-------------|---------|----------|--------|
| cluster_type | The type of cluster (openshift or kubernetes) | true |  | cluster.platform.type_code |
| cluster_version | The version of cluster | true |  | cluster.platform.version |
| cluster_config_file | Cluster config file for Kubernetes cluster. | true |  | cluster.config_file_path |
| olm_version | The version of olm that will be installed | false | v0.18.1 |  |

### Outputs

| Name | Description |
|------|-------------|
| olm_namespace | Namespace where OLM is running. The value will be different between OCP 4.3 and IKS/OCP 3.11 |
| target_namespace | Namespace where operatoes will be installed |
| operator_namespace | Name space where catalog is running - and subscriptions need to be made |

## Resources

- [Documentation](https://operate.cloudnativetoolkit.dev)
- [Module catalog](https://modules.cloudnativetoolkit.dev)

> License: Apache License 2.0 | Generated by iascable (3.2.0)
